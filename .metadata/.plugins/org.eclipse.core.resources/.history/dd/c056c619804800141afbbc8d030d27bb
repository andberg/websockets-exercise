package se.berglund.messagehandlers;

import javax.json.JsonArray;

import se.berglund.datastorage.DataStorage;
import se.berglund.models.Message;

public class MessageHandler {

	private static Message message; 
	private static MessageHandler instance = null; 
	
	private MessageHandler(){
	}
	
	public static MessageHandler getInstance(){
		if(MessageHandler.instance == null){
			MessageHandler.instance = new MessageHandler();
		}
		return MessageHandler.instance; 
	}
	
	public static void addMessage(Message message){
		MessageHandler.message = message; 
	}
	
	public Message whatMessage(Message message){
		if ((message.getType()).contains("get-all-whiteboards")) {
			JsonArray allwhiteboards = DataStorage.getAllWhiteboards();
			if(allwhiteboards != null){
				message.setData(allwhiteboards); 
			}
		}
		return MessageHandler;

	}
}
